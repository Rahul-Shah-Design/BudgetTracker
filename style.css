:root {
  --bg: #0f1117; --surface: #181b24; --surface2: #1e2230; --border: #2a2f40;
  --text: #e8eaf0; --muted: #6b7280; --needs: #4a90e2; --wants: #e05c5c;
  --savings: #f0b429; --accent: #4a90e2; --green: #5cb85c;
  --font-display: 'DM Serif Display', serif; --font-body: 'DM Sans', sans-serif;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: var(--font-body); background: var(--bg); color: var(--text); min-height: 100vh; font-size: 14px; }
.app { display: flex; min-height: 100vh; }
.sidebar {
  width: 224px; flex-shrink: 0; background: var(--surface); border-right: 1px solid var(--border);
  display: flex; flex-direction: column; padding: 28px 0 24px;
  position: fixed; top: 0; left: 0; bottom: 0; z-index: 100; overflow-y: auto;
}
.sidebar-logo { font-family: var(--font-display); font-size: 22px; color: var(--text); padding: 0 24px 28px; letter-spacing: -0.5px; }
.sidebar-logo span { color: var(--savings); }
.sidebar-section { font-size: 10px; font-weight: 600; letter-spacing: 0.12em; text-transform: uppercase; color: var(--muted); padding: 0 24px 8px; margin-top: 4px; }
.sidebar-nav { list-style: none; margin-bottom: 8px; }
.sidebar-nav li {
  cursor: pointer; padding: 9px 24px; color: var(--muted); font-size: 13.5px;
  display: flex; align-items: center; gap: 10px; transition: all 0.15s; border-left: 3px solid transparent;
}
.sidebar-nav li:hover { color: var(--text); background: var(--surface2); }
.sidebar-nav li.active { color: var(--text); border-left-color: var(--accent); background: rgba(74,144,226,0.08); font-weight: 500; }
.sidebar-nav li .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--muted); flex-shrink: 0; }
.sidebar-nav li.active .dot { background: var(--accent); }
.sidebar-nav li.has-data .dot { background: var(--savings); }
.main { margin-left: 224px; flex: 1; padding: 36px 40px; }
.view { display: none; }
.view.active { display: block; }
.page-header { margin-bottom: 28px; }
.page-header h1 { font-family: var(--font-display); font-size: 30px; letter-spacing: -0.5px; font-weight: 400; }
.page-header p { color: var(--muted); margin-top: 4px; font-size: 13px; }

/* STAT CARDS */
.stat-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 28px; }
.stat-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 20px 22px; }
.stat-label { font-size: 11px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
.stat-label .badge { width: 8px; height: 8px; border-radius: 50%; }
.stat-value { font-size: 26px; font-family: var(--font-display); font-weight: 400; }
.stat-sub { font-size: 12px; color: var(--muted); margin-top: 4px; }
.stat-bar { height: 4px; background: var(--border); border-radius: 2px; margin-top: 14px; overflow: hidden; }
.stat-bar-fill { height: 100%; border-radius: 2px; transition: width 0.5s ease; }
.over { color: var(--wants); } .under { color: var(--green); }

/* CHART */
.chart-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 24px 28px; margin-bottom: 28px; }
.chart-card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.chart-card-header h2 { font-family: var(--font-display); font-size: 20px; font-weight: 400; }
.chart-year { display: flex; align-items: center; gap: 8px; }
.chart-year button { background: none; border: 1px solid var(--border); color: var(--muted); padding: 4px 10px; border-radius: 6px; cursor: pointer; font-family: var(--font-body); font-size: 13px; transition: all 0.15s; }
.chart-year button:hover { border-color: var(--accent); color: var(--text); }
.chart-year span { font-size: 13px; color: var(--muted); }
.chart-wrapper { position: relative; height: 300px; }

/* CALCULATOR */
.calc-layout { display: grid; grid-template-columns: 1fr 350px; gap: 24px; align-items: start; }
.calc-section { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; margin-bottom: 16px; }
.calc-section-header { padding: 13px 20px; border-bottom: 1px solid var(--border); background: rgba(255,255,255,0.015); display: flex; justify-content: space-between; align-items: center; }
.calc-section-title { font-size: 11px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); }
.calc-section-body { padding: 4px 0; }
.calc-row { display: flex; align-items: center; justify-content: space-between; padding: 10px 20px; border-bottom: 1px solid rgba(42,47,64,0.4); gap: 12px; }
.calc-row:last-child { border-bottom: none; }
.calc-row-label { font-size: 13px; color: var(--text); flex: 1; min-width: 0; }
.calc-row-label small { display: block; font-size: 11px; color: var(--muted); margin-top: 2px; }
.calc-row-right { display: flex; align-items: center; gap: 8px; flex-shrink: 0; }
.ci { background: var(--surface2); border: 1px solid var(--border); color: var(--text); border-radius: 7px; padding: 6px 10px; font-family: var(--font-body); font-size: 13px; transition: border-color 0.15s; }
.ci:focus { outline: none; border-color: var(--accent); }
.ci-w100 { width: 110px; text-align: right; }
.ci-w70 { width: 70px; text-align: right; }
.ci-select { width: 200px; cursor: pointer; }
.ci-select-sm { width: 130px; cursor: pointer; }
.ci-prefix { font-size: 12px; color: var(--muted); }
.cv { font-size: 13px; min-width: 90px; text-align: right; }
.cv-dim { color: var(--muted); }
.cv-neg { color: var(--wants); }
.calc-total-row { display: flex; align-items: center; justify-content: space-between; padding: 14px 20px; background: rgba(74,144,226,0.05); border-top: 1px solid var(--border); }
.calc-total-label { font-size: 13px; font-weight: 600; }
.calc-total-val { font-family: var(--font-display); font-size: 22px; color: var(--accent); }
.warn-badge { font-size: 11px; background: rgba(240,180,41,0.15); color: var(--savings); border: 1px solid rgba(240,180,41,0.3); padding: 2px 8px; border-radius: 20px; white-space: nowrap; }
.good-badge { font-size: 11px; background: rgba(92,184,92,0.12); color: var(--green); border: 1px solid rgba(92,184,92,0.25); padding: 2px 8px; border-radius: 20px; white-space: nowrap; }

/* RESULT PANEL */
.result-panel { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; position: sticky; top: 24px; }
.result-panel-hdr { padding: 16px 20px; border-bottom: 1px solid var(--border); background: rgba(255,255,255,0.015); }
.result-panel-hdr h3 { font-family: var(--font-display); font-size: 18px; font-weight: 400; }
.result-panel-body { padding: 8px 0; }
.rline { display: flex; justify-content: space-between; align-items: center; padding: 9px 20px; border-bottom: 1px solid rgba(42,47,64,0.35); }
.rline:last-child { border-bottom: none; }
.rline-label { font-size: 12px; color: var(--muted); }
.rline-val { font-size: 13px; font-weight: 500; }
.rline-val.neg { color: var(--wants); }
.rline-val.pos { color: var(--green); }
.result-takehome { padding: 18px 20px; background: rgba(74,144,226,0.06); border-top: 1px solid var(--border); text-align: center; }
.result-takehome-lbl { font-size: 11px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 6px; }
.result-takehome-amt { font-family: var(--font-display); font-size: 36px; color: var(--accent); }
.result-takehome-sub { font-size: 12px; color: var(--muted); margin-top: 4px; }
.split-section { padding: 16px 20px; border-top: 1px solid var(--border); }
.split-title { font-size: 11px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 14px; }
.split-row { display: flex; align-items: center; gap: 8px; margin-bottom: 10px; }
.split-lbl { font-size: 12px; width: 46px; }
.split-pct { width: 48px; background: var(--surface2); border: 1px solid var(--border); color: var(--text); border-radius: 6px; padding: 5px 7px; font-family: var(--font-body); font-size: 12px; text-align: center; }
.split-pct:focus { outline: none; border-color: var(--accent); }
.split-bar-wrap { flex: 1; height: 5px; background: var(--border); border-radius: 3px; overflow: hidden; }
.split-bar-fill { height: 100%; border-radius: 3px; transition: width 0.3s; }
.split-amt { font-size: 12px; font-weight: 500; min-width: 62px; text-align: right; }
.split-warn { font-size: 11px; color: var(--wants); margin-top: 6px; display: none; }
.apply-btn { width: 100%; margin-top: 14px; padding: 9px; background: var(--accent); color: white; border: none; border-radius: 8px; cursor: pointer; font-family: var(--font-body); font-size: 13px; font-weight: 500; transition: all 0.2s; }
.apply-btn:hover { opacity: 0.85; }
.apply-note { font-size: 11px; color: var(--muted); text-align: center; margin-top: 7px; }

/* MONTH */
.month-header { display: flex; align-items: center; gap: 16px; margin-bottom: 28px; }
.month-nav-btn { background: var(--surface); border: 1px solid var(--border); color: var(--muted); width: 32px; height: 32px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 16px; transition: all 0.15s; }
.month-nav-btn:hover { border-color: var(--accent); color: var(--text); }
.month-summary { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 28px; }
.month-stat { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 16px 18px; }
.month-stat-lbl { font-size: 11px; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 6px; }
.month-stat-val { font-size: 22px; font-family: var(--font-display); }
.month-stat-diff { font-size: 12px; margin-top: 3px; }
.tables-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.tx-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; }
.tx-card-header { padding: 16px 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.tx-card-title { font-family: var(--font-display); font-size: 17px; font-weight: 400; }
.tx-card-title .orange { color: #f97316; }
.add-btn { background: rgba(74,144,226,0.15); border: 1px solid rgba(74,144,226,0.3); color: var(--accent); padding: 5px 12px; border-radius: 7px; cursor: pointer; font-family: var(--font-body); font-size: 12px; font-weight: 500; transition: all 0.15s; }
.add-btn:hover { background: rgba(74,144,226,0.25); }
.tx-table { width: 100%; border-collapse: collapse; }
.tx-table th { text-align: left; padding: 10px 20px 8px; font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: var(--muted); border-bottom: 1px solid var(--border); }
.tx-table td { padding: 10px 20px; border-bottom: 1px solid rgba(42,47,64,0.5); vertical-align: middle; }
.tx-table tr:last-child td { border-bottom: none; }
.tx-table tr:hover td { background: rgba(255,255,255,0.02); }
.cat-badge { display: inline-flex; align-items: center; padding: 3px 9px; border-radius: 20px; font-size: 11px; font-weight: 500; }
.cat-badge.needs { background: rgba(74,144,226,0.15); color: var(--needs); }
.cat-badge.wants { background: rgba(224,92,92,0.15); color: var(--wants); }
.cat-badge.savings { background: rgba(240,180,41,0.15); color: var(--savings); }
.amount-needs { color: var(--needs); } .amount-wants { color: var(--wants); } .amount-savings { color: var(--savings); }
.del-btn { background: none; border: none; color: var(--muted); cursor: pointer; padding: 2px 6px; border-radius: 4px; font-size: 14px; transition: all 0.15s; }
.del-btn:hover { color: var(--wants); background: rgba(224,92,92,0.1); }
.empty-row td { text-align: center; color: var(--muted); padding: 24px !important; font-style: italic; font-size: 13px; }

/* MODAL */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.65); display: flex; align-items: center; justify-content: center; z-index: 999; opacity: 0; pointer-events: none; transition: opacity 0.2s; }
.modal-overlay.open { opacity: 1; pointer-events: all; }
.modal { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 28px 30px; width: 380px; transform: translateY(10px); transition: transform 0.2s; }
.modal-overlay.open .modal { transform: translateY(0); }
.modal h3 { font-family: var(--font-display); font-size: 20px; font-weight: 400; margin-bottom: 20px; }
.field { margin-bottom: 14px; }
.field label { display: block; font-size: 12px; font-weight: 500; color: var(--muted); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.07em; }
.field input, .field select { width: 100%; padding: 9px 12px; background: var(--surface2); border: 1px solid var(--border); color: var(--text); border-radius: 8px; font-family: var(--font-body); font-size: 14px; transition: border-color 0.15s; }
.field input:focus, .field select:focus { outline: none; border-color: var(--accent); }
.field select option { background: var(--surface2); }
.modal-footer { display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px; }
.cancel-btn { background: none; border: 1px solid var(--border); color: var(--muted); padding: 8px 18px; border-radius: 8px; cursor: pointer; font-family: var(--font-body); font-size: 13px; }
.save-btn { background: var(--accent); color: white; border: none; padding: 9px 20px; border-radius: 8px; cursor: pointer; font-family: var(--font-body); font-size: 13px; font-weight: 500; }
.save-btn:hover { opacity: 0.85; }
.modal-hint { font-size: 11px; color: var(--muted); margin-top: 5px; }
